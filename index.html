<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Odete's Class 17.3</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- O CONTAINER PRINCIPAL AGORA ENVOLVE A BARRA DE CONTEXTO, ÃREA DE CONTEÃšDO E O INPUT DO CHAT -->
    <div class="app-container">

        <!-- NOVA BARRA DE CONTEXTO DO DIÃLOGO (Inicialmente oculta) -->
        <div class="context-bar context-bar-hidden" id="context-bar">
            <h2 id="context-bar-title"></h2> <!-- TÃ­tulo serÃ¡ preenchido via JS -->
            <button id="exit-chat-btn" class="exit-chat-btn">Sair</button>
        </div>

        <main class="main-area">
            
            <!-- ÃREA DE CONTEÃšDO DINÃ‚MICA (ExibirÃ¡ a Home, HistÃ³rico, Chat, etc.) -->
            <div class="main-content-area" id="main-content-area">
                <!-- O conteÃºdo serÃ¡ renderizado pelo script.js -->
            </div>

            <!-- A ÃREA DE INPUT DO CHAT FICA FORA DA ÃREA DE SCROLL -->
            <div class="chat-input-area chat-input-hidden">
                <button class="icon-btn" id="mic-btn" title="Usar microfone">ğŸ¤</button>
                <input type="text" id="text-input" placeholder="Digite sua mensagem...">
                <button class="icon-btn" id="send-btn" title="Enviar mensagem">â¤</button>
            </div>

        </main>
    </div>

    <!-- ===== ESTRUTURA DOS MODAIS (Inalterada) ===== -->
    <div id="feedback-modal" class="modal-overlay modal-hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Your Feedback</h2>
                <button id="translate-btn" class="translate-btn-hidden">Traduzir para PortuguÃªs</button>
                <span class="modal-close" id="modal-close-btn">&times;</span>
            </div>
            <div class="modal-body" id="feedback-content"></div>
        </div>
    </div>
    
    <div id="api-key-modal" class="modal-overlay modal-hidden">
        <div class="modal-content">
            <h2>Odete's Class</h2><hr><br>
            <div class="modal-header">
                <h2>Conecte suas IAs (Chat e Voz)</h2>
            </div>
            <div class="modal-body">
                <p style="text-align: left; margin-bottom: 24px;">Para o aplicativo funcionar, vocÃª precisa de duas chaves de API gratuitas. Siga os passos abaixo (vocÃª sÃ³ precisa fazer isso uma vez):</p>
                <ol class="step-by-step-list">
                    <li><strong><a href="https://aistudio.google.com/app/apikey" target="_blank" rel="noopener noreferrer">Crie sua chave do Google AI Studio</a></strong>
                        FaÃ§a login com sua conta Google, clique em "Create API key" e copie o cÃ³digo. Essa chave cuidarÃ¡ da inteligÃªncia da conversa.
                    </li>
                    <li><strong><a href="https://elevenlabs.io/" target="_blank" rel="noopener noreferrer">Crie sua chave da ElevenLabs</a></strong>
                        Crie uma conta (pode usar o login do Google), clique no Ã­cone do seu perfil (canto superior direito) e em "Profile Settings". A chave estarÃ¡ lÃ¡ para vocÃª copiar. Ela cuidarÃ¡ da voz de alta qualidade.
                    </li>
                </ol>
                
                <label for="modal-google-api-key-input">1. Chave de API do Google AI Studio (para o Chat)</label>
                <input type="password" id="modal-google-api-key-input" placeholder="Cole sua chave do Google aqui (ex: AIza...)">
                
                <label for="modal-elevenlabs-api-key-input">2. Chave de API da ElevenLabs (para a Voz)</label>
                <input type="password" id="modal-elevenlabs-api-key-input" placeholder="Cole sua chave da ElevenLabs aqui">

                <button id="save-api-key-btn">Salvar e ComeÃ§ar</button>
                <p class="modal-info-text">Suas chaves sÃ£o salvas com seguranÃ§a apenas no seu navegador.</p>
            </div>
        </div>
    </div>

    <div id="history-modal" class="modal-overlay modal-hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="history-modal-title">HistÃ³rico da Conversa</h2>
                <span class="modal-close" id="history-modal-close-btn">&times;</span>
            </div>
            <div class="modal-body" id="history-modal-content"></div>
        </div>
    </div>

    <div id="mission-modal" class="modal-overlay modal-hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Sua MissÃ£o ğŸ¯</h2>
                <span class="modal-close" id="mission-modal-close-btn">&times;</span>
            </div>
            <div class="modal-body">
                <p id="mission-goal-text">O objetivo da sua missÃ£o aparecerÃ¡ aqui.</p>
                <br>
                <p style="text-align: center; font-weight: 500; margin-bottom: 20px;">Como vocÃª quer praticar?</p>
                <div class="mission-choice-container">
                    <button id="start-text-mission-btn">Por Texto</button>
                    <button id="start-voice-mission-btn">Por Voz</button>
                </div>
            </div>
        </div>
    </div>

    <div id="settings-modal" class="modal-overlay modal-hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ConfiguraÃ§Ãµes</h2>
                <span class="modal-close" id="settings-modal-close-btn">&times;</span>
            </div>
            <div class="modal-body" id="settings-modal-body">
                <label for="language-select">Idioma</label>
                <select id="language-select" name="language">
                    <option value="en-US">InglÃªs</option>
                </select>
                
                <label for="proficiency-select">NÃ­vel de ProficiÃªncia</label>
                <select id="proficiency-select" name="proficiency">
                    <option value="basic">BÃ¡sico</option>
                    <option value="intermediate">IntermediÃ¡rio</option>
                    <option value="advanced">AvanÃ§ado</option>
                </select>

                <label>ConexÃ£o com a IA</label>
                <button id="change-api-key-btn">Gerenciar Chaves de API</button>
            </div>
        </div>
    </div>

    <!-- NOVA BARRA DE NAVEGAÃ‡ÃƒO INFERIOR -->
    <nav class="bottom-nav-bar" id="bottom-nav-bar">
        <button class="icon-btn" id="nav-home-btn" title="InÃ­cio">ğŸ </button>
        <button class="icon-btn" id="nav-categories-btn" title="Categorias">ğŸ“š</button>
        <button class="icon-btn" id="nav-custom-btn" title="CenÃ¡rio Personalizado">âœ¨</button>
        <button class="icon-btn" id="nav-history-btn" title="HistÃ³rico">ğŸ•’</button>
        <button class="icon-btn" id="nav-settings-btn" title="ConfiguraÃ§Ãµes">âš™ï¸</button>
    </nav>

    <!-- Scripts da AplicaÃ§Ã£o -->
    <script src="configuration.js"></script>
    <script src="scenarios.js"></script>
    <script src="tips.js"></script>
    <script src="script.js"></script>

</body>
</html>